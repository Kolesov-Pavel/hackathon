<!DOCTYPE html>
<html>
<head>
    <title>Информация об устройстве</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        /* Общие стили */
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 20px auto;
            max-width: 1200px;
            padding: 20px;
            background: #f5f5f5;
        }

        .info-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }

        .info-card {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }

        /* Стили карты и кнопок остаются из предыдущего примера */
        #map { height: 500px; margin: 20px 0; }
        button { /* ... */ }
    </style>
</head>
<body>
    <div class="info-section">
        <h2>Информация об устройстве</h2>
        <div class="grid-container" id="device-info"></div>
    </div>

    <!-- Остальные элементы (карта, кнопки) из предыдущего примера -->

    <script>
        // Функция для создания элемента информации
        function createInfoCard(title, content) {
            const card = document.createElement('div');
            card.className = 'info-card';
            card.innerHTML = `<h3>${title}</h3><p>${content}</p>`;
            return card;
        }

        // Сбор информации об устройстве
        function collectDeviceInfo() {
            const infoContainer = document.getElementById('device-info');
            
            // Основная информация
            const info = {
                'Браузер': navigator.userAgent,
                'Платформа': navigator.platform,
                'Язык': navigator.language,
                'Онлайн': navigator.onLine ? 'Да' : 'Нет',
                'Куки': navigator.cookieEnabled ? 'Включены' : 'Выключены',
                'Экран': `${screen.width}x${screen.height} (${screen.colorDepth} бит)`,
                'Память': navigator.deviceMemory ? `${navigator.deviceMemory} GB` : 'Недоступно',
                'Ядра CPU': navigator.hardwareConcurrency || 'Недоступно',
                'Touch Support': navigator.maxTouchPoints > 0 ? 'Да' : 'Нет'
            };

            // Добавляем основную информацию
            for (const [title, content] of Object.entries(info)) {
                infoContainer.appendChild(createInfoCard(title, content));
            }

            // Расширенная информация (если доступна)
            // Батарея
            if ('getBattery' in navigator) {
                navigator.getBattery().then(battery => {
                    const batteryInfo = `
                        Уровень: ${Math.floor(battery.level * 100)}%<br>
                        Состояние: ${battery.charging ? 'Заряжается' : 'Не заряжается'}
                    `;
                    infoContainer.appendChild(createInfoCard('Батарея', batteryInfo));
                });
            }

            // Сеть
            if ('connection' in navigator) {
                const conn = navigator.connection;
                const networkInfo = `
                    Тип: ${conn.effectiveType}<br>
                    RTT: ${conn.rtt}ms<br>
                    Скорость: ${conn.downlink} Mbps
                `;
                infoContainer.appendChild(createInfoCard('Сеть', networkInfo));
            }

            // Геолокация
            if ('geolocation' in navigator) {
                navigator.geolocation.getCurrentPosition(position => {
                    const geoInfo = `
                        Широта: ${position.coords.latitude}<br>
                        Долгота: ${position.coords.longitude}<br>
                        Точность: ${position.coords.accuracy} метров
                    `;
                    infoContainer.appendChild(createInfoCard('Геолокация', geoInfo));
                }, () => {
                    infoContainer.appendChild(createInfoCard('Геолокация', 'Доступ запрещен'));
                });
            }

            // Дополнительные датчики
            if ('getSensors' in navigator) {
                navigator.getSensors().then(sensors => {
                    const sensorsInfo = sensors.map(s => s.name).join(', ');
                    infoContainer.appendChild(createInfoCard('Датчики', sensorsInfo));
                });
            }
        }

        // Инициализация при загрузке
        window.onload = () => {
            collectDeviceInfo();
            // Инициализация карты и других компонентов
        };
    </script>
</body>
</html>
